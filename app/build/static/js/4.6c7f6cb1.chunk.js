(this.webpackJsonpminishop=this.webpackJsonpminishop||[]).push([[4],{464:function(e,t,c){"use strict";var n=c(185),r=c(62),a={getAll:function(){return n.a.get("/Brands")},getCategories:function(){return r.a.get("/categories")},get:function(e){var t="/categories/".concat(e);return r.a.get(t)},testAI:function(){return r.a.get("/categories")}};t.a=a},494:function(e,t,c){},495:function(e,t,c){},504:function(e,t,c){},518:function(e,t,c){},519:function(e,t,c){},520:function(e,t,c){},521:function(e,t,c){},541:function(e,t,c){"use strict";c.r(t);var n=c(20),r=c(8),a=c.n(r),i=c(13),s=c(468),l=c(10),o=c(1),u=(c(494),c.p+"static/media/banner.e33d44c1.jpg"),j=c(2);function _(e){var t=e.image,c=e.content;return Object(j.jsx)("div",{className:"banner",style:{backgroundImage:"url(".concat(t,")")},children:Object(j.jsx)("p",{className:"banner__content",children:c})})}_.defaultProps={image:u,content:"Welcome to Lexe Shop"};var b=_,d=c(421),m=c(534),O=c(535),g=(c(495),c(543));function f(e){return Object(j.jsx)("div",{className:"brand-list",children:Object(j.jsx)(g.a,{})})}f.defaultProps={brandList:[]};c(504);var p=c(540),h=c(33);v.defaultProps={product:{},onAddToCart:null};var x=new Intl.NumberFormat("en-vi",{style:"currency",currency:"VND"});function v(e){var t=e.product,c=e.onAddToCart;return Object(j.jsxs)("div",{className:"product",children:[Object(j.jsx)("div",{className:"product__image__box",children:Object(j.jsx)("div",{className:"product__image",style:{backgroundImage:"url(".concat(t.image,")")}})}),Object(j.jsx)(h.b,{to:"/products/".concat(t.id),className:"product__name",children:t.name}),Object(j.jsx)("p",{className:"product__brand",children:t.category||"loading..."}),Object(j.jsx)("div",{className:"product__price",children:x.format(t.price)}),Object(j.jsx)(p.a,{className:"product__rating",disabled:!0,allowHalf:!0,defaultValue:t.rating}),Object(j.jsx)("button",{className:"product__btn",onClick:function(){return function(e){var t={id:e.id,name:e.name,image:e.image,price:e.price,quantity:1};c&&c(t)}(t)},children:"Th\xeam v\xe0o gi\u1ecf"})]})}var N=v;function C(e){var t=e.list,c=e.onAddToCart;return Object(j.jsx)("div",{className:"product-list",children:Object(j.jsx)(m.a,{noGutters:!0,xl:"3",lg:"3",md:"3",sm:"2",xs:"1",children:t.map((function(e){return Object(j.jsx)(O.a,{children:Object(j.jsx)(N,{product:e,onAddToCart:c})},e.id)}))})})}C.defaultProps={list:[],onAddToCart:null};var k=C,y=c(75),S=c(168),w=c(464),T=c(82);c(518);function A(e){var t=e.totalRow,c=e.pagination,n=e.onPageChange,r=c.page,a=c.limit,i=Math.ceil(t/a),s=Object(o.useState)([]),u=Object(l.a)(s,2),_=u[0],b=u[1],d=function(e){n&&n(e)};return Object(o.useEffect)((function(){var e=[];if(i<=5)for(var t=function(t){e.push(Object(j.jsx)("li",{className:"pagination__item",children:Object(j.jsx)("button",{className:r===t+1?"pagination__btn active":"pagination__btn",disabled:r===t+1,onClick:function(){return d(t+1)},children:t+1})},t))},c=0;c<i;c++)t(c);b(e)}),[i,r]),Object(j.jsxs)("ul",{className:"pagination",children:[Object(j.jsx)("li",{className:"pagination__item",children:Object(j.jsx)("button",{className:"pagination__btn",disabled:1===r,onClick:function(){return d(r-1)},children:Object(j.jsx)(T.c,{className:"pagination__icon"})})}),_.map((function(e){return e})),Object(j.jsx)("li",{className:"pagination__item",children:Object(j.jsx)("button",{className:"pagination__btn",disabled:r===i,onClick:function(){return d(r+1)},children:Object(j.jsx)(T.d,{className:"pagination__icon"})})})]})}A.defaultProps={totalRow:0,pagination:{},onPageChange:null};var P=A,I=c(479);c(519);function R(e){var t=e.onSortChange,c=Object(o.useRef)(null),n=Object(o.useState)({label:null,sortBy:null}),r=Object(l.a)(n,2),a=r[0],i=r[1],s=function(e,n){c.current&&(c.current=null),c.current={sortBy:e,label:n},i(c.current),t&&t(c.current)};return Object(j.jsxs)("div",{className:"sort",children:[Object(j.jsx)("p",{className:"sort__name",children:"S\u1eafp x\u1ebfp theo"}),Object(j.jsxs)("ul",{className:"sort__list",children:[Object(j.jsx)("li",{className:a.sortBy?"sort__item":"sort__item active",children:Object(j.jsx)("button",{className:"sort__btn",onClick:function(){return s(null)},children:"M\u1eb7c \u0111\u1ecbnh"})}),Object(j.jsx)("li",{className:a.sortBy?"sort__item active":"sort__item",children:Object(j.jsxs)("div",{className:"sort__price",children:[a.label?a.label:"Gi\xe1",Object(j.jsx)(I.a,{className:"sort__price__icon"}),Object(j.jsx)("ul",{className:"sort__price__list",children:[{id:1,value:"Gi\xe1: Th\u1ea5p \u0111\u1ebfn Cao",keyword:"priceAsc"},{id:2,value:"Gi\xe1: Cao \u0111\u1ebfn Th\u1ea5p",keyword:"priceDesc"}].map((function(e){return Object(j.jsxs)("li",{className:e.keyword===a.sortBy?"sort__price__item active":"sort__price__item",onClick:function(){s(e.keyword,e.value)},children:[e.value,Object(j.jsx)(T.b,{className:"sort__price__item__icon"})]},e.id)}))})]})})]})]})}R.defaultProps={onSortChange:null};var F=R;c(520);function B(e){var t=e.categories,c=e.onFilterChange,n=Object(o.useState)({rating:null,categoryId:null}),r=Object(l.a)(n,2),a=r[0],i=r[1],s=Object(o.useRef)(a),u=function(e){s.current&&(s.current=null),a.rating===e?s.current={rating:null}:s.current={rating:e},i(s.current),c&&c(s.current)};return Object(j.jsxs)("div",{className:"filter",children:[Object(j.jsxs)("section",{className:"filter__group",children:[Object(j.jsx)("h3",{className:"filter__group__name",children:"Th\u01b0\u01a1ng hi\u1ec7u"}),Object(j.jsx)("ul",{className:"filter__group__list",children:t.map((function(e){return Object(j.jsxs)("li",{className:"filter__group__item",children:[Object(j.jsx)("input",{type:"checkbox",id:e.id,className:"lessDesktop filter__group__checkbox",onClick:function(){var t;t=e.id,s.current&&(s.current=null),a.categoryId===t?s.current={categoryId:null}:s.current={categoryId:t},i(s.current),c&&c(s.current)},readOnly:!0,checked:e.id==a.categoryId}),Object(j.jsx)("label",{htmlFor:e.id,children:e.name})]},e.id)}))})]}),Object(j.jsxs)("section",{className:"filter__group",children:[Object(j.jsx)("h3",{className:"filter__group__name",children:"\u0110\xe1nh gi\xe1"}),Object(j.jsxs)("ul",{className:"filter__group__list",children:[Object(j.jsxs)("li",{className:5===a.rating?"filter__group__item filter__group__item--rating active":"filter__group__item filter__group__item--rating",onClick:function(){return u(5)},children:[Object(j.jsx)(T.a,{}),Object(j.jsx)(T.a,{}),Object(j.jsx)(T.a,{}),Object(j.jsx)(T.a,{}),Object(j.jsx)(T.a,{})]}),Object(j.jsxs)("li",{className:4===a.rating?"filter__group__item filter__group__item--rating active":"filter__group__item filter__group__item--rating ",onClick:function(){return u(4)},children:[Object(j.jsx)(T.a,{}),Object(j.jsx)(T.a,{}),Object(j.jsx)(T.a,{}),Object(j.jsx)(T.a,{}),Object(j.jsx)(T.g,{})]}),Object(j.jsxs)("li",{className:3===a.rating?"filter__group__item filter__group__item--rating active":"filter__group__item filter__group__item--rating",onClick:function(){return u(3)},children:[Object(j.jsx)(T.a,{}),Object(j.jsx)(T.a,{}),Object(j.jsx)(T.a,{}),Object(j.jsx)(T.g,{}),Object(j.jsx)(T.g,{})]}),Object(j.jsxs)("li",{className:2===a.rating?"filter__group__item filter__group__item--rating active":"filter__group__item filter__group__item--rating",onClick:function(){return u(2)},children:[Object(j.jsx)(T.a,{}),Object(j.jsx)(T.a,{}),Object(j.jsx)(T.g,{}),Object(j.jsx)(T.g,{}),Object(j.jsx)(T.g,{})]}),Object(j.jsxs)("li",{className:1===a.rating?"filter__group__item filter__group__item--rating active":"filter__group__item filter__group__item--rating",onClick:function(){return u(1)},children:[Object(j.jsx)(T.a,{}),Object(j.jsx)(T.g,{}),Object(j.jsx)(T.g,{}),Object(j.jsx)(T.g,{}),Object(j.jsx)(T.g,{})]})]})]})]})}B.defaultProps={categories:[],onFilterChange:null};var E=B,D=c(84);c(521);var G=function(e){var t=e.searchTerm,c=e.onRemoveSearch;return Object(j.jsxs)("div",{className:"result-search",children:[Object(j.jsx)("h3",{className:"result-search__heading",children:"K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm cho t\u1eeb kh\xf3a: "}),Object(j.jsx)("div",{className:"result-search__item",children:t}),Object(j.jsx)("button",{className:"result-search__btn",onClick:function(){return c(null)},children:"D\u1ecdn d\u1eb9p"})]})},L=c(170),q=c(121);function J(e){var t=e.searchTerm,c=e.onRemoveSearch,r=Object(y.c)((function(e){return e.product})),u=r.productList,_=r.totalRow,g=Object(o.useState)([]),f=Object(l.a)(g,2),p=f[0],h=f[1],x=Object(o.useState)([]),v=Object(l.a)(x,2),N=v[0],C=v[1],T=Object(o.useState)([]),A=Object(l.a)(T,2),I=A[0],R=A[1],B=Object(y.b)(),J=Object(o.useState)({}),M=Object(l.a)(J,2),V=M[0],H=M[1],K=Object(o.useState)({limit:9,page:1}),W=Object(l.a)(K,2),z=W[0],Q=W[1],U=Object(o.useState)({}),X=Object(l.a)(U,2),Y=X[0],Z=X[1];Object(o.useEffect)((function(){document.title="S\u1ea3n ph\u1ea9m"}),[]),Object(o.useEffect)((function(){var e=Object(s.a)(Object(s.a)({},z),V);t&&(e=Object(s.a)(Object(s.a)({},e),{},{search:t})),B(Object(S.b)(e))}),[z,V,t]),Object(o.useEffect)((function(){(function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.getCategories();case 3:t=e.sent,t=Object(q.a)(t.data),R(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Failed to fetch category data at: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){var e=Object(n.a)(p);switch(Y.sortBy){case"priceAsc":e.sort((function(e,t){return e.price-t.price}));break;case"priceDesc":e.sort((function(e,t){return t.price-e.price}))}C(e)}),[Y,p]);Object(o.useEffect)((function(){var e=[];u.forEach((function(t){var c=function(e){if(I.length>0){var t=I.find((function(t){return t.id==e}));if(t&&t.name)return t.name}return""}(t.categoryId),n=Object(s.a)(Object(s.a)({},t),{},{category:c});e.push(n)})),h(e),C([]),C(e)}),[u,I]);return Object(j.jsxs)("div",{className:"home-page",children:["s",Object(j.jsx)(b,{}),Object(j.jsx)(d.a,{className:"mt-2",children:Object(j.jsxs)(m.a,{children:[Object(j.jsx)(O.a,{lg:"3",md:"3",children:Object(j.jsx)(E,{categories:I,onFilterChange:function(e){console.log(e),H(e)}})}),Object(j.jsxs)(O.a,{lg:"9",md:"9",children:[t&&Object(j.jsx)(G,{onRemoveSearch:c,searchTerm:t}),Object(j.jsx)(m.a,{children:Object(j.jsx)(O.a,{children:Object(j.jsx)(F,{onSortChange:function(e){Y!=e&&Z(e)}})})}),N.length>0?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(k,{list:N,onAddToCart:function(e){e&&B(Object(D.a)(e))}}),Object(j.jsx)(m.a,{className:"d-flex justify-content-center mt-3",noGutters:!0,children:Object(j.jsx)(O.a,{xs:"auto",children:Object(j.jsx)(P,{totalRow:_,pagination:z,onPageChange:function(e){Q(Object(s.a)(Object(s.a)({},z),{},{page:e}))}})})})]}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("img",{src:L.a.NO_DATA,alt:""})})]})]})})]})}J.defaultProps={searchTerm:null,onRemoveSearch:null};t.default=J}}]);
//# sourceMappingURL=4.6c7f6cb1.chunk.js.map