{"version":3,"sources":["api/categoriesApi.js","components/DetailImage/index.jsx","components/DetailInfo/index.jsx","pages/DetailPage/index.jsx"],"names":["categoryApi","getAll","axiosClient","get","getCategories","checkapi","id","url","testAI","DetailImage","props","images","useState","selected","setSelected","className","style","backgroundImage","map","image","index","onClick","handleImageChange","defaultProps","DetailInfo","product","onAddToCart","formatPrice","useFormatPrice","quantity","setQuantity","console","log","brand","name","format","price","min","max","value","onChange","allowHalf","disabled","defaultValue","dangerouslySetInnerHTML","__html","desc","productValues","DetailPage","useParams","setProduct","dispatch","useDispatch","useEffect","document","title","a","productApi","response","brandId","responseBrand","fetchProduct","Container","Row","lg","md","sm","xs","Col","image2","addProduct","Grid","container","spacing","Comment","Group","comments","item","Avatar","src","rating","Content","Author","as","username","Text","content","Metadata","moment","Date","created_time"],"mappings":"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","file":"static/js/6.90648bfd.chunk.js","sourcesContent":["import axiosClient from \"./axiosClient\";\nimport checkapi from \"./testAPI\";\nconst categoryApi = {\n  getAll: () => {\n    const url = \"/Brands\";\n    return axiosClient.get(url);\n  },\n  getCategories: () => {\n    const url = \"/categories\";\n    return checkapi.get(url);\n  },\n  get: (id) => {\n    const url = `/categories/${id}`;\n    return checkapi.get(url);\n  },\n  testAI: () => {\n    const url = `/categories`;\n    return checkapi.get(url);\n  },\n};\n\nexport default categoryApi;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./style.scss\";\n\nDetailImage.propTypes = {\n  images: PropTypes.array,\n};\n\nDetailImage.defaultProps = {\n  images: [],\n};\n\nfunction DetailImage(props) {\n  const { images } = props;\n\n  const [selected, setSelected] = useState(0);\n\n  const handleImageChange = (index) => {\n    if (selected != index) setSelected(index);\n  };\n\n  return (\n    <div className=\"detail-image\">\n      <div\n        className=\"detail-image__main\"\n        style={{ backgroundImage: `url(${images[selected]})` }}\n      ></div>\n      <ul className=\"detail-image__thumbnails\">\n        {images.map((image, index) => {\n          return (\n            <li\n              className={\n                index == selected\n                  ? \"detail-image__item active\"\n                  : \"detail-image__item\"\n              }\n              style={{ backgroundImage: `url(${image})` }}\n              key={index}\n              onClick={() => handleImageChange(index)}\n            ></li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n\nexport default DetailImage;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { InputNumber, Rate } from \"antd\";\nimport \"./style.scss\";\nimport { useFormatPrice } from \"../../hooks/useFormatPrice\";\n\nDetailInfo.propTypes = {\n  product: PropTypes.object.isRequired,\n  onAddToCart: PropTypes.func,\n};\n\nDetailInfo.defaultProps = {\n  product: {},\n  onAddToCart: null,\n};\n\nfunction DetailInfo(props) {\n  const { product, onAddToCart } = props;\n  const formatPrice = useFormatPrice();\n  const [quantity, setQuantity] = useState(1);\n  console.log(\"quantity :>> \", quantity);\n\n  const handleAddToCart = () => {\n    const productValues = {\n      id: product.id,\n      name: product.name,\n      image: product.image,\n      price: product.price,\n      quantity: quantity,\n    };\n\n    if (onAddToCart) onAddToCart(productValues);\n  };\n\n  return (\n    <div className=\"detail-info\">\n      <p className=\"detail-info__brand\">{product.brand}</p>\n      <h3 className=\"detail-info__name\">{product.name}</h3>\n      <p className=\"detail-info__price\">{formatPrice.format(product.price)}</p>\n      <div className=\"detail-info__quantity\">\n        Số lượng\n        <InputNumber\n          className=\"detail-info__quantity__input\"\n          min={1}\n          max={100}\n          value=\"1\"\n          onChange={(value) => {\n            setQuantity(value === null ? 1 : value);\n          }}\n        />\n      </div>\n      <div className=\"detail-info__rating\">\n        Đánh giá:\n        <Rate\n          allowHalf\n          disabled\n          defaultValue={2.5}\n          className=\"detail-info__rating__value\"\n        />\n      </div>\n      <div className=\"detail-info__desc\">\n        <p className=\"detail-info__desc__name\">Thông tin sản phẩm</p>\n        <p\n          className=\"detail-info__desc__value\"\n          dangerouslySetInnerHTML={{ __html: product.desc }}\n        ></p>\n      </div>\n      <button className=\"detail-info__btn\" onClick={handleAddToCart}>\n        Thêm vào giỏ\n      </button>\n    </div>\n  );\n}\n\nexport default DetailInfo;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useParams } from \"react-router\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport productApi from \"../../api/productApi\";\nimport categoryApi from \"../../api/categoriesApi\";\nimport { Col, Container, Row } from \"reactstrap\";\nimport DetailImage from \"../../components/DetailImage\";\nimport DetailInfo from \"../../components/DetailInfo\";\nimport { addProduct } from \"../../storeSlice/miniCartSlice\";\nimport { InputNumber, Rate } from \"antd\";\nimport { Button, Comment, Form, Header } from 'semantic-ui-react'\nimport Grid from '@material-ui/core/Grid';\n\nimport './style.css';\nimport moment from 'moment';\nDetailPage.propTypes = {};\n\nfunction DetailPage(props) {\n  \n  const { id } = useParams();\n  const [product, setProduct] = useState({});\n  const dispatch = useDispatch();\n  const handleAddToCart = (product) => {\n    if (product) dispatch(addProduct(product));\n  };\n  //set title\n  useEffect(() => {\n    document.title = `Sản phẩm ${product.name}`;\n  }, [product]);\n  //get product by id\n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        const response = await productApi.get(id);\n        console.log(response)\n        setProduct(response);\n        const responseBrand = await categoryApi.get(response.brandId);\n        setProduct({ ...response, brand: responseBrand.name });\n      } catch (error) {\n        console.log(\"Failed to fetch data product at: \", error);\n      }\n    };\n    fetchProduct();\n  }, []);\n  return (\n    <div className=\"detail-page mt-5\">\n      <Container>\n        <Row lg=\"2\" md=\"2\" sm=\"1\" xs=\"1\">\n          <Col>\n            <DetailImage images={[product.image, product.image2]} />\n          </Col>\n          <Col>\n            <DetailInfo product={product} onAddToCart={handleAddToCart} />\n          </Col>\n        </Row>\n      </Container>\n      <Grid container spacing={3}>\n        <Comment.Group>\n          <div className='commentTi'>ĐÁNH GIÁ SẢN PHẨM</div>\n          {product.comments ? product.comments.map((item) => {\n            return (\n              <Comment>\n                <Comment.Avatar src='https://react.semantic-ui.com/images/avatar/small/matt.jpg' />\n                <div className=\"detail-info__rating\">\n                  <Rate\n                    allowHalf\n                    disabled\n                    defaultValue={item.rating}\n                    className=\"detail-info__rating__value\"\n                  /></div>\n                <Comment.Content>\n                  <Comment.Author as='a'>{item.username}</Comment.Author>\n                  <Comment.Text>{item.content}</Comment.Text>\n                  <Comment.Metadata>\n                    <div>{moment(new Date(item.created_time)).format('YYYY-MM-DD HH:mm:ss')}</div>\n                  </Comment.Metadata>\n                </Comment.Content>\n                <div className='txteach_comment'>------------------------------------</div>\n              </Comment>\n            );\n          }) : ''}\n        </Comment.Group>\n      </Grid>\n    </div>\n  );\n}\n\nexport default DetailPage;\n"],"sourceRoot":""}